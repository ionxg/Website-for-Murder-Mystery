<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Characters</title>
  <style>
    :root{--bg:#0b1020;--fg:#e6e6e6;--muted:#9aa3b2;--card:#11172a;--accent:#7cc5ff}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,"Segoe UI",Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji;background:var(--bg);color:var(--fg)}
    a{color:inherit;text-decoration:none}
    .header{padding:24px 20px;border-bottom:1px solid #20283d;display:flex;align-items:center;gap:12px}
    .header h1{font-size:clamp(20px,3vw,28px);margin:0}
    main{max-width:1100px;margin:0 auto;padding:20px}

    #listView{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
    .card{background:var(--card);border:1px solid #1e2742;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:8px;box-shadow:0 6px 16px rgba(0,0,0,.2)}
    .card button{all:unset;cursor:pointer;display:block;width:100%}
    .name{font-weight:600}

    #detailView{display:none}
    .detail{display:grid;gap:20px;grid-template-columns:min(380px,40%) 1fr;align-items:start}
    .detail img{width:100%;border-radius:16px;border:1px solid #1e2742;background:#0f1528;aspect-ratio:1/1;object-fit:cover}
    .detail .back{background:transparent;border:1px solid #2b3555;border-radius:999px;padding:8px 12px;color:var(--fg);cursor:pointer}
    .description{color:var(--muted);line-height:1.5}

    footer{padding:24px 20px;color:var(--muted);text-align:center;border-top:1px solid #20283d;margin-top:32px}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <header class="header">
    <h1>Characters</h1>
  </header>

  <main>
    <section id="listView" aria-labelledby="listHeading">
      <h2 id="listHeading" class="sr-only">Character List</h2>
      <!-- Cards are injected here by JS -->
    </section>

    <section id="detailView" aria-labelledby="detailHeading">
      <h2 id="detailHeading" class="sr-only">Character Detail</h2>
      <div class="detail">
        <img id="detailImage" alt="" />
        <div>
          <h3 id="detailName"></h3>
          <p id="detailDesc" class="description"></p>
          <button class="back" id="backBtn" aria-label="Back to list">← Back</button>
        </div>
      </div>
    </section>

    <noscript>This site needs JavaScript enabled to switch between list and detail.</noscript>
  </main>

  <footer>© <span id="year"></span> Your Game</footer>

  <script>
    const characters = [
      {
        id: "samut",
        name: "Samut",
        image: "images/samut.jpg",
        description: "Description."
      },
      {
        id: "minh",
        name: "Minh",
        image: "images/minh.jpg",
        description: "Description."
      },
      {
        id: "natee",
        name: "Natee",
        image: "images/natee.jpg",
        description: "Rich."
      },
      {
        id: "tarra",
        name: "Tarra",
        image: "images/tarra.jpg",
        description: "Second son."
      },
      {
        id: "ray",
        name: "Ray",
        image: "images/ray.jpg",
        description: "lawyer."
      }
    ];

    // Lightweight placeholder if an image is missing
    const placeholder = 'data:image/svg+xml;utf8,' + encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="800" height="800">
        <rect width="100%" height="100%" fill="#0f1528"/>
        <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#7cc5ff" font-family="Arial" font-size="40">No image</text>
      </svg>
    `);

    const listView = document.getElementById('listView');
    const detailView = document.getElementById('detailView');

    function renderList(){
      detailView.style.display = 'none';
      listView.style.display = 'grid';
      listView.innerHTML = characters.map(c => `
        <article class="card">
          <button onclick="goTo('${c.id}')" aria-label="Open ${c.name}">
            <div class="name">${c.name}</div>
          </button>
        </article>
      `).join('');
    }

    function renderDetail(id){
      const c = characters.find(ch => ch.id === id);
      if(!c){ renderList(); return; }
      listView.style.display = 'none';
      detailView.style.display = 'block';
      document.getElementById('detailName').textContent = c.name;
      document.getElementById('detailDesc').textContent = c.description;
      const img = document.getElementById('detailImage');
      img.src = c.image;
      img.alt = c.name;
      img.onerror = () => { img.onerror = null; img.src = placeholder; };
    }

    function goTo(id){ location.hash = id; }

    window.addEventListener('hashchange', () => {
      const id = location.hash.slice(1);
      if(id){ renderDetail(id); } else { renderList(); }
    });

    document.getElementById('backBtn').addEventListener('click', () => {
      history.pushState("", document.title, window.location.pathname + window.location.search);
      renderList();
    });

    // Initial render
    document.getElementById('year').textContent = new Date().getFullYear();
    const initial = location.hash.slice(1);
    if(initial){ renderDetail(initial); } else { renderList(); }
  </script>
</body>
</html>
